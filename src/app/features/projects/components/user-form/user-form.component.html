<div class="form-container p-8">
  <div class="max-w-2xl mx-auto bg-white rounded-xl shadow-lg p-8 border-2 border-amber-200">
    
    <!-- En-tête -->
    <div class="mb-8">
      <h1 class="text-3xl font-serif font-bold text-amber-900 mb-2">
        Formulaire Utilisateur
      </h1>
    </div>

    <!-- Formulaire -->
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="space-y-6">
      
      <!-- Nom -->
      <div>
        <label for="nom" class="block text-sm font-sans font-medium text-stone-700 mb-2">
          Nom <span class="text-red-500">*</span>
        </label>
        <input
          type="text"
          id="nom"
          formControlName="nom"
          placeholder="Entrez votre nom"
          class="w-full px-4 py-2 border border-amber-300 rounded-lg focus:ring-2 focus:ring-amber-200 focus:border-amber-600 transition duration-300"
          [class.border-red-500]="nom?.invalid && nom?.touched"
          [class.border-green-500]="nom?.valid && nom?.touched"
        />
        @if (nom?.hasError('required') && nom?.touched) {
          <p class="text-red-600 text-sm mt-1 field-error">⚠️ Le nom est requis.</p>
        }
        @if (nom?.hasError('minlength') && nom?.touched) {
          <p class="text-red-600 text-sm mt-1 field-error">⚠️ Le nom doit contenir au moins 2 caractères.</p>
        }
      </div>

      <!-- Prénom -->
      <div>
        <label for="prenom" class="block text-sm font-sans font-medium text-stone-700 mb-2">
          Prénom <span class="text-red-500">*</span>
        </label>
        <input
          type="text"
          id="prenom"
          formControlName="prenom"
          placeholder="Entrez votre prénom"
          class="w-full px-4 py-2 border border-amber-300 rounded-lg focus:ring-2 focus:ring-amber-200 focus:border-amber-600 transition duration-300"
          [class.border-red-500]="prenom?.invalid && prenom?.touched"
          [class.border-green-500]="prenom?.valid && prenom?.touched"
        />
        @if (prenom?.hasError('required') && prenom?.touched) {
          <p class="text-red-600 text-sm mt-1 field-error">⚠️ Le prénom est requis.</p>
        }
        @if (prenom?.hasError('minlength') && prenom?.touched) {
          <p class="text-red-600 text-sm mt-1 field-error">⚠️ Le prénom doit contenir au moins 2 caractères.</p>
        }
      </div>

      <!-- Email -->
      <div>
        <label for="email" class="block text-sm font-sans font-medium text-stone-700 mb-2">
          Email <span class="text-red-500">*</span>
        </label>
        <input
          type="email"
          id="email"
          formControlName="email"
          placeholder="exemple@email.com"
          class="w-full px-4 py-2 border border-amber-300 rounded-lg focus:ring-2 focus:ring-amber-200 focus:border-amber-600 transition duration-300"
          [class.border-red-500]="email?.invalid && email?.touched"
          [class.border-green-500]="email?.valid && email?.touched"
        />
        @if (email?.hasError('required') && email?.touched) {
          <p class="text-red-600 text-sm mt-1 field-error">⚠️ L'email est requis.</p>
        }
        @if (email?.hasError('email') && email?.touched) {
          <p class="text-red-600 text-sm mt-1 field-error">⚠️ Veuillez entrer un email valide.</p>
        }
      </div>

      <!-- Âge -->
      <div>
        <label for="age" class="block text-sm font-sans font-medium text-stone-700 mb-2">
          Âge <span class="text-red-500">*</span> <span class="text-stone-400 text-xs">(18-100 ans)</span>
        </label>
        <input
          type="number"
          id="age"
          formControlName="age"
          placeholder="Entrez votre âge"
          min="18"
          max="100"
          class="w-full px-4 py-2 border border-amber-300 rounded-lg focus:ring-2 focus:ring-amber-200 focus:border-amber-600 transition duration-300"
          [class.border-red-500]="age?.invalid && age?.touched"
          [class.border-green-500]="age?.valid && age?.touched"
        />
        @if (age?.hasError('required') && age?.touched) {
          <p class="text-red-600 text-sm mt-1 field-error">⚠️ L'âge est requis.</p>
        }
        @if (age?.hasError('min') && age?.touched) {
          <p class="text-red-600 text-sm mt-1 field-error">⚠️ Vous devez avoir au moins 18 ans.</p>
        }
        @if (age?.hasError('max') && age?.touched) {
          <p class="text-red-600 text-sm mt-1 field-error">⚠️ L'âge maximum est de 100 ans.</p>
        }
        @if (age?.valid && age?.touched) {
          <p class="text-green-600 text-sm mt-1">✅ Âge valide</p>
        }
      </div>

      <!-- Ville -->
      <div>
        <label for="ville" class="block text-sm font-sans font-medium text-stone-700 mb-2">
          Ville <span class="text-red-500">*</span>
        </label>
        <input
          type="text"
          id="ville"
          formControlName="ville"
          placeholder="Entrez votre ville"
          class="w-full px-4 py-2 border border-amber-300 rounded-lg focus:ring-2 focus:ring-amber-200 focus:border-amber-600 transition duration-300"
          [class.border-red-500]="ville?.invalid && ville?.touched"
          [class.border-green-500]="ville?.valid && ville?.touched"
        />
        @if (ville?.hasError('required') && ville?.touched) {
          <p class="text-red-600 text-sm mt-1 field-error">⚠️ La ville est requise.</p>
        }
        @if (ville?.hasError('minlength') && ville?.touched) {
          <p class="text-red-600 text-sm mt-1 field-error">⚠️ La ville doit contenir au moins 2 caractères.</p>
        }
      </div>

      <!-- Boutons d'action -->
      <div class="flex flex-wrap gap-3 pt-4">
        <button
          type="submit"
          [disabled]="userForm.invalid"
          class="flex-1 min-w-[200px] px-6 py-3 bg-amber-700 text-white rounded-lg font-sans font-medium hover:bg-amber-800 disabled:bg-stone-400 disabled:cursor-not-allowed transition duration-300 shadow-md hover:shadow-lg"
        >
          Soumettre
        </button>
        
        <button
          type="button"
          (click)="resetForm()"
          class="px-6 py-3 bg-amber-100 text-stone-700 rounded-lg font-sans font-medium hover:bg-amber-200 transition duration-300"
        >
          Réinitialiser
        </button>
      </div>

      <!-- Statut du formulaire -->
      <div class="mt-6 p-4 bg-amber-50 rounded-lg border border-amber-200">
        <div class="grid grid-cols-2 gap-4 text-sm font-sans">
          <div>
            <span class="font-medium text-stone-700">Statut :</span>
            @if (userForm.valid) {
              <span class="ml-2 text-green-600 font-bold">Valide</span>
            } @else {
              <span class="ml-2 text-orange-600 font-bold">Incomplet</span>
            }
          </div>
          <div>
            <span class="font-medium text-stone-700">Touché :</span>
            <span class="ml-2" [class.text-amber-700]="userForm.touched" [class.text-stone-400]="!userForm.touched">
              {{ userForm.touched ? 'Oui' : 'Non' }}
            </span>
          </div>
        </div>
      </div>
    </form>

  </div>
</div>
